# 教師首頁更新說明

## 更新內容

已成功將教師登入後的首頁改成和學生首頁一樣的排版，包含以下區塊：

### 1. 日期摘要區塊（ScrollSummary）
- 顯示當前選擇的日期
- 顯示問候語和用戶名稱
- 顯示當天的課程、作業和考試數量
- 可以切換日期查看不同日期的資訊

### 2. 近期課程區塊（UpcomingSchedule）
- 顯示今明兩天的課程安排
- 包含課程名稱、時間和教室資訊
- 根據選擇的日期動態更新

### 3. 最近作業區塊（取代原本的待辦事項）
- 顯示 7 天內即將到期的作業
- 最多顯示 5 個作業
- 使用顏色標示緊急程度：
  - 紅色：今天到期或已逾期
  - 橘色：明天到期
  - 黃色：3 天內到期
  - 藍色：未來到期
- 顯示作業標題、所屬課程和到期日期

### 4. 月曆區塊（CompactMonthlyCalendar）
- 顯示完整的月曆視圖
- 標示有作業或考試的日期
- 可以點擊日期切換查看

## 修改的檔案

### 1. `components/teacher-dashboard.tsx`
- 完全重構了教師首頁組件
- 移除了原本的統計卡片和課程列表
- 採用與學生首頁相同的佈局結構（左側 2 欄，右側 3 欄）
- 整合了 ScrollSummary、UpcomingSchedule 和 CompactMonthlyCalendar 組件
- 新增了「最近作業」區塊，顯示 7 天內即將到期的作業

### 2. `app/teacher/page.tsx`
- 新增了 `useCourses` hook 來獲取課程和作業數據
- 新增了 LINE 認證相關的邏輯
- 新增了用戶資料的獲取和管理
- 將 `assignments` 和 `user` props 傳遞給 TeacherDashboard 組件

## 技術細節

### 使用的組件
- `ScrollSummary`: 日期摘要組件
- `UpcomingSchedule`: 近期課程組件
- `CompactMonthlyCalendar`: 月曆組件
- `EmptyStateSimple`: 空狀態提示組件

### 使用的 Hooks
- `useCourses`: 獲取課程、作業、筆記和考試數據
- `useLineAuth`: LINE 認證
- `useUserAuth`: 用戶認證狀態

### 工具函數
- `getTaiwanTime()`: 獲取台灣時間
- `getDaysDifferenceTaiwan()`: 計算日期差異（台灣時區）

## 排版結構

```
┌─────────────────────────────────────────────────────────┐
│                    教師首頁                              │
├──────────────────────┬──────────────────────────────────┤
│  左側欄位 (2/5)      │  右側欄位 (3/5)                  │
│                      │                                  │
│  ┌────────────────┐  │  ┌────────────────────────────┐ │
│  │  日期摘要      │  │  │                            │ │
│  │  (ScrollSummary)│ │  │                            │ │
│  └────────────────┘  │  │                            │ │
│                      │  │                            │ │
│  ┌────────────────┐  │  │        月曆視圖            │ │
│  │  近期課程      │  │  │  (CompactMonthlyCalendar)  │ │
│  │(UpcomingSchedule)│ │  │                            │ │
│  └────────────────┘  │  │                            │ │
│                      │  │                            │ │
│  ┌────────────────┐  │  │                            │ │
│  │  最近作業      │  │  │                            │ │
│  │  (7天內到期)   │  │  └────────────────────────────┘ │
│  └────────────────┘  │                                  │
└──────────────────────┴──────────────────────────────────┘
```

## 響應式設計

- 在桌面版（lg 以上）：左右兩欄佈局
- 在手機版：垂直堆疊，順序為：
  1. 日期摘要
  2. 近期課程
  3. 最近作業
  4. 月曆

## 注意事項

1. 只修改了教師首頁（dashboard 標籤頁），其他標籤頁（課程管理、作業管理、學生管理等）保持不變
2. 使用真實的課程和作業數據（通過 useCourses hook 從後端獲取）
3. 保持了與學生首頁一致的 UI/UX 體驗
4. 所有組件都是響應式的，支援手機和桌面版

## 測試建議

1. 以教師身分登入系統
2. 確認首頁顯示正確的日期摘要
3. 確認近期課程顯示正確
4. 確認最近作業區塊顯示 7 天內即將到期的作業
5. 確認月曆可以正常切換日期
6. 測試響應式佈局在不同螢幕尺寸下的表現
